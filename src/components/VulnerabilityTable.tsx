import { VulnerabilityTableProps } from '../types/vulnerability'
import Button from './Button'

export default function VulnerabilityTable({vulnerabilities} : VulnerabilityTableProps ) {
  function handleViewVulnerability() {
    console.log("View button clicked")
  }

  function handleResolveVulnerability() {
    console.log("Resolve button clicked")
  }

  return(
    <table>
      <thead>
        <tr>
          <th className="py-2">Severity</th>
          <th className="py-2">Name</th>
          <th className="py-2">Category</th>
          <th className="py-2">Description</th>
          <th className="py-2">Actions</th>
        </tr>
      </thead>
      <tbody>
      {vulnerabilities.map((vuln) => (
          <tr key={vuln.uuid}>
            <td className="border px-4 py-2">{vuln.severity}</td>
            <td className="border px-4 py-2">{vuln.name}</td>
            <td className="border px-4 py-2">{vuln.category}</td>
            <td className="border px-4 py-2">{vuln.description}</td>
            <td className="border px-4 py-2">
              <Button classString="bg-green-600 rounded" onClick={handleViewVulnerability} label='Resolve'/>
              <Button classString="bg-amber-500 rounded" onClick={handleResolveVulnerability} label='View'/>
            </td>
          </tr>
        ))}
      </tbody>
    </table>
  )
}
